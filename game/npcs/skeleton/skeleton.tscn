[gd_scene load_steps=8 format=3 uid="uid://xnp6x5ktenq2"]

[ext_resource type="Script" path="res://game/npcs/skeleton/skeleton.gd" id="1_nibk7"]
[ext_resource type="PackedScene" uid="uid://dmqdckiki03yh" path="res://assets/KevDev/skeleton/scene/skeleton.tscn" id="1_vhxqh"]
[ext_resource type="AudioStream" uid="uid://dj5y2wtrkcj3f" path="res://assets/freesound.org/337164__newagesoup__monster-laugh.wav" id="3_top2m"]
[ext_resource type="AudioStream" uid="uid://cmkixs5dix10d" path="res://assets/freesound.org/420252__redroxpeterpepper__step-skeleton.mp3" id="4_cqs3q"]
[ext_resource type="AudioStream" uid="uid://is0im3d2un2u" path="res://assets/freesound.org/369078__newagesoup__vsh-07-fist-slam-concrete-wall-long-reverb.wav" id="5_bsxur"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wm71w"]
radius = 0.3

[sub_resource type="BoxShape3D" id="BoxShape3D_eocio"]
size = Vector3(0.4, 1, 0.4)

[node name="Skeleton" type="CharacterBody3D"]
collision_layer = 32
collision_mask = 33
script = ExtResource("1_nibk7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_wm71w")

[node name="skeleton" parent="." instance=ExtResource("1_vhxqh")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="GeneralSkeleton" parent="skeleton/Armature" index="0"]
bones/1/rotation = Quaternion(5.96046e-08, -2.10734e-08, -2.10734e-08, 1)
bones/2/position = Vector3(-0.0372954, 0.867328, -0.0518606)
bones/2/rotation = Quaternion(0.258905, 0.186001, -0.0497826, 0.946517)
bones/3/rotation = Quaternion(0.0159227, -0.0166422, 0.0647418, 0.997636)
bones/4/rotation = Quaternion(0.0147846, -0.0166423, 0.0647418, 0.997654)
bones/5/rotation = Quaternion(-0.323103, -0.0537654, -0.0395649, 0.944007)
bones/6/rotation = Quaternion(-0.0552862, -0.0508299, -0.0432715, 0.996237)
bones/7/rotation = Quaternion(-0.015667, -0.746425, -0.661461, -0.0712356)
bones/8/rotation = Quaternion(-0.264936, -0.595789, -0.707057, 0.273706)
bones/9/rotation = Quaternion(-0.0537158, 0.970958, -0.227407, 0.051394)
bones/10/rotation = Quaternion(0.547919, -0.446968, 0.552333, 0.441511)
bones/11/rotation = Quaternion(-0.339003, 0.249941, -0.312533, 0.851428)
bones/13/rotation = Quaternion(0.337417, 0.0741048, 0.000552058, 0.938434)
bones/14/rotation = Quaternion(0.484857, 0.078737, -0.00653082, 0.871018)
bones/15/rotation = Quaternion(0.485758, 0.073211, 0.00276005, 0.871018)
bones/16/rotation = Quaternion(-0.109765, 0.666999, 0.364799, 0.640301)
bones/17/rotation = Quaternion(0.334894, 0.162333, 0.106136, 0.922079)
bones/18/rotation = Quaternion(0.320448, 0.19133, 0.102356, 0.922079)
bones/20/rotation = Quaternion(0.345378, -0.00273824, -0.00699538, 0.938434)
bones/21/rotation = Quaternion(0.491047, -0.00751249, 0.012008, 0.871018)
bones/22/rotation = Quaternion(0.491175, -0.00581847, 0.00641814, 0.871018)
bones/24/rotation = Quaternion(0.342308, -0.0456911, -0.00892258, 0.938434)
bones/25/rotation = Quaternion(0.422145, -0.0344297, 0.00627005, 0.905853)
bones/26/rotation = Quaternion(0.421435, -0.0424901, 0.00428623, 0.905853)
bones/28/rotation = Quaternion(0.337386, -0.0742212, -0.00207177, 0.938434)
bones/29/rotation = Quaternion(0.354165, -0.12, 0.0273082, 0.92705)
bones/30/rotation = Quaternion(0.358749, -0.106451, 0.0233564, 0.92705)
bones/31/position = Vector3(0.184252, 0.0972, 0.0363774)
bones/31/rotation = Quaternion(2.98023e-08, -2.98023e-08, 2.98023e-08, 1)
bones/32/rotation = Quaternion(0.686906, -0.288645, -0.283779, -0.603584)
bones/33/rotation = Quaternion(0.410161, 0.857356, -0.27737, 0.140623)
bones/34/rotation = Quaternion(0.204818, 0.677562, -0.206467, 0.675522)
bones/35/rotation = Quaternion(0.230933, -0.788975, 0.126393, 0.555169)
bones/37/rotation = Quaternion(0.337417, -0.0741045, -0.000552177, 0.938434)
bones/38/rotation = Quaternion(0.484856, -0.0787369, 0.00653043, 0.871018)
bones/39/rotation = Quaternion(0.485758, -0.0732116, -0.00276041, 0.871018)
bones/40/rotation = Quaternion(-0.109765, -0.667, -0.364799, 0.640301)
bones/41/rotation = Quaternion(0.334894, -0.162333, -0.106136, 0.922079)
bones/42/rotation = Quaternion(0.320448, -0.19133, -0.102356, 0.922079)
bones/44/rotation = Quaternion(0.345378, 0.00273813, 0.00699523, 0.938434)
bones/45/rotation = Quaternion(0.491047, 0.00751246, -0.0120083, 0.871018)
bones/46/rotation = Quaternion(0.491175, 0.00581784, -0.00641847, 0.871018)
bones/48/rotation = Quaternion(0.342308, 0.045691, 0.00892246, 0.938434)
bones/49/rotation = Quaternion(0.422145, 0.0344296, -0.00627023, 0.905853)
bones/50/rotation = Quaternion(0.421434, 0.0424901, -0.00428659, 0.905853)
bones/52/rotation = Quaternion(0.337386, 0.0742211, 0.0020715, 0.938434)
bones/53/rotation = Quaternion(0.354165, 0.12, -0.0273084, 0.92705)
bones/54/rotation = Quaternion(0.358749, 0.106451, -0.0233567, 0.92705)
bones/55/position = Vector3(-0.184252, 0.0972001, 0.0363777)
bones/55/rotation = Quaternion(-4.47035e-08, -5.96046e-08, -1.49012e-08, 1)
bones/56/rotation = Quaternion(0.191744, -0.105561, -0.953552, 0.206951)
bones/56/scale = Vector3(0.999328, 1, 0.999812)
bones/57/rotation = Quaternion(-0.000472681, 0.754528, -0.656268, -0.000790805)
bones/57/scale = Vector3(1.00053, 1.00036, 1.00011)
bones/58/rotation = Quaternion(-0.2615, 0.808828, -0.497603, 0.172646)
bones/58/scale = Vector3(1.0009, 0.999736, 0.999687)
bones/59/rotation = Quaternion(2.81857e-06, 1, 3.05176e-05, -3.14521e-06)
bones/59/scale = Vector3(1, 1, 1)
bones/60/rotation = Quaternion(9.31323e-09, 4.65661e-09, -1.84773e-08, 1)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(0.267441, -0.562112, -0.782044, -0.0302103)
bones/61/scale = Vector3(0.998954, 1.00027, 0.999213)
bones/62/rotation = Quaternion(0.000149883, 0.977494, -0.210962, 0.000255696)
bones/62/scale = Vector3(1.00063, 1.00006, 1.0005)
bones/63/rotation = Quaternion(-0.00536829, 0.693291, -0.720636, -0.00136219)
bones/63/scale = Vector3(1.0009, 0.999916, 1.00004)
bones/64/rotation = Quaternion(2.92921e-06, -1, -3.04878e-05, -3.03457e-06)
bones/64/scale = Vector3(1, 1, 1)
bones/65/rotation = Quaternion(-1.95578e-08, -4.65661e-10, -4.15785e-08, -1)
bones/65/scale = Vector3(1, 1, 1)
bones/66/position = Vector3(0.224089, 0.104967, 0.0775046)
bones/66/rotation = Quaternion(0.0600257, 0.00120717, -0.0205945, 0.997984)

[node name="HeadAttachment" type="BoneAttachment3D" parent="skeleton/Armature/GeneralSkeleton" index="10"]
transform = Transform3D(1, 2.03028e-07, 1.19209e-07, -2.47732e-07, 0.989979, 0.141217, -6.70552e-08, -0.141217, 0.989979, -0.0165259, 1.43031, 0.348075)
bone_name = "Head"
bone_idx = 6

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="skeleton/Armature/GeneralSkeleton/HeadAttachment"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
remote_path = NodePath("../../../../../Sight")

[node name="ChestAttachment" type="BoneAttachment3D" parent="skeleton/Armature/GeneralSkeleton" index="11"]
transform = Transform3D(0.96538, -0.0379645, 0.258071, 0.182998, 0.803605, -0.566331, -0.185887, 0.593951, 0.782731, -0.00714244, 1.04111, 0.0544608)
bone_name = "Chest"
bone_idx = 4

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="skeleton/Armature/GeneralSkeleton/ChestAttachment"]
remote_path = NodePath("../../../../../HitArea")

[node name="Sight" type="RayCast3D" parent="."]
transform = Transform3D(1, -1.90683e-07, 2.93179e-07, 2.60077e-07, 0.989979, -0.141217, -2.41025e-07, 0.141217, 0.989979, 0.0165259, 1.43031, -0.348075)
target_position = Vector3(0, 0, -3)
collision_mask = 524291

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="VoicePlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)
stream = ExtResource("3_top2m")
bus = &"Environment"

[node name="FootstepPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 0)
stream = ExtResource("4_cqs3q")
pitch_scale = 2.5
bus = &"Environment"

[node name="HitPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, -0.1)
stream = ExtResource("5_bsxur")

[node name="HitArea" type="Area3D" parent="."]
transform = Transform3D(-0.96538, 0.0379645, -0.258071, 0.182998, 0.803605, -0.566331, 0.185887, -0.593951, -0.782731, 0.00714244, 1.04111, -0.0544608)
collision_layer = 0
collision_mask = 65536

[node name="CollisionShape3D" type="CollisionShape3D" parent="HitArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)
shape = SubResource("BoxShape3D_eocio")

[connection signal="animation_finished" from="skeleton/AnimationPlayer" to="." method="_on_animation_finished"]
[connection signal="body_entered" from="HitArea" to="." method="_on_hit_area_body_entered"]

[editable path="skeleton"]
