[gd_scene load_steps=8 format=3 uid="uid://xnp6x5ktenq2"]

[ext_resource type="Script" path="res://game/npcs/skeleton/skeleton.gd" id="1_nibk7"]
[ext_resource type="PackedScene" uid="uid://dmqdckiki03yh" path="res://assets/KevDev/skeleton/scene/skeleton.tscn" id="1_vhxqh"]
[ext_resource type="AudioStream" uid="uid://dj5y2wtrkcj3f" path="res://assets/freesound.org/337164__newagesoup__monster-laugh.wav" id="3_top2m"]
[ext_resource type="AudioStream" uid="uid://cmkixs5dix10d" path="res://assets/freesound.org/420252__redroxpeterpepper__step-skeleton.mp3" id="4_cqs3q"]
[ext_resource type="AudioStream" uid="uid://is0im3d2un2u" path="res://assets/freesound.org/369078__newagesoup__vsh-07-fist-slam-concrete-wall-long-reverb.wav" id="5_bsxur"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wm71w"]
radius = 0.3

[sub_resource type="BoxShape3D" id="BoxShape3D_eocio"]
size = Vector3(0.4, 1, 0.4)

[node name="Skeleton" type="CharacterBody3D"]
collision_layer = 32
collision_mask = 33
script = ExtResource("1_nibk7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_wm71w")

[node name="skeleton" parent="." instance=ExtResource("1_vhxqh")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="GeneralSkeleton" parent="skeleton/Armature" index="0"]
bones/2/position = Vector3(-0.000681354, 0.8578, 0.0590607)
bones/2/rotation = Quaternion(0.0469849, 0.163833, 0.0174707, 0.985214)
bones/3/rotation = Quaternion(0.000200327, -0.0369091, 0.00373397, 0.999312)
bones/4/rotation = Quaternion(-0.000939191, -0.0369091, 0.00373393, 0.999311)
bones/5/rotation = Quaternion(-0.02435, -0.0452319, -0.010709, 0.998622)
bones/6/rotation = Quaternion(-0.0512573, -0.0449268, -0.0119243, 0.997603)
bones/7/rotation = Quaternion(2.22259e-09, -0.667097, -0.744971, 1.28663e-07)
bones/8/rotation = Quaternion(-0.490823, -0.487662, -0.579091, 0.431199)
bones/9/rotation = Quaternion(-0.137984, 0.830737, -0.511781, -0.170051)
bones/10/rotation = Quaternion(0.162277, -0.688887, 0.163584, 0.687271)
bones/11/rotation = Quaternion(-0.027314, 0.490445, -0.219364, 0.842969)
bones/13/rotation = Quaternion(0.337417, 0.0741048, 0.000551939, 0.938434)
bones/14/rotation = Quaternion(0.484856, 0.0787369, -0.00653082, 0.871018)
bones/15/rotation = Quaternion(0.485758, 0.073211, 0.00276014, 0.871018)
bones/16/rotation = Quaternion(-0.109765, 0.666999, 0.364799, 0.640301)
bones/17/rotation = Quaternion(0.334894, 0.162333, 0.106136, 0.922079)
bones/18/rotation = Quaternion(0.320448, 0.19133, 0.102356, 0.922079)
bones/20/rotation = Quaternion(0.345378, -0.00273822, -0.00699544, 0.938434)
bones/21/rotation = Quaternion(0.491047, -0.00751252, 0.0120081, 0.871018)
bones/22/rotation = Quaternion(0.491175, -0.00581846, 0.00641814, 0.871018)
bones/24/rotation = Quaternion(0.342308, -0.0456913, -0.00892314, 0.938434)
bones/25/rotation = Quaternion(0.422145, -0.0344296, 0.00627017, 0.905853)
bones/26/rotation = Quaternion(0.421434, -0.0424901, 0.00428629, 0.905853)
bones/28/rotation = Quaternion(0.337386, -0.0742212, -0.0020715, 0.938434)
bones/29/rotation = Quaternion(0.354165, -0.12, 0.0273082, 0.92705)
bones/30/rotation = Quaternion(0.358749, -0.106452, 0.0233563, 0.92705)
bones/31/position = Vector3(0.184252, 0.0971999, 0.0363773)
bones/32/rotation = Quaternion(0.47784, -0.500115, -0.579249, -0.431306)
bones/33/rotation = Quaternion(0.0962392, 0.808847, -0.539083, 0.214231)
bones/34/rotation = Quaternion(0.267771, 0.655334, -0.269929, 0.652667)
bones/35/rotation = Quaternion(-0.145197, -0.468187, 0.0968205, 0.866224)
bones/37/rotation = Quaternion(0.337417, -0.0741046, -0.000552267, 0.938434)
bones/38/rotation = Quaternion(0.484856, -0.0787368, 0.00653055, 0.871018)
bones/39/rotation = Quaternion(0.485758, -0.0732115, -0.00276041, 0.871018)
bones/40/rotation = Quaternion(-0.109765, -0.667, -0.364799, 0.640301)
bones/41/rotation = Quaternion(0.334894, -0.162333, -0.106136, 0.922079)
bones/42/rotation = Quaternion(0.320448, -0.19133, -0.102356, 0.922079)
bones/44/rotation = Quaternion(0.345378, 0.00273813, 0.0069952, 0.938434)
bones/45/rotation = Quaternion(0.491047, 0.00751251, -0.0120083, 0.871018)
bones/46/rotation = Quaternion(0.491175, 0.00581784, -0.00641853, 0.871018)
bones/48/rotation = Quaternion(0.342308, 0.045691, 0.00892246, 0.938434)
bones/49/rotation = Quaternion(0.422145, 0.0344296, -0.00627029, 0.905853)
bones/50/rotation = Quaternion(0.421434, 0.0424901, -0.00428659, 0.905853)
bones/52/rotation = Quaternion(0.337386, 0.0742211, 0.00207147, 0.938434)
bones/53/rotation = Quaternion(0.354165, 0.12, -0.0273083, 0.92705)
bones/54/rotation = Quaternion(0.358749, 0.106451, -0.0233566, 0.92705)
bones/55/position = Vector3(-0.184252, 0.0971999, 0.0363778)
bones/56/rotation = Quaternion(-0.134503, -0.245644, -0.956602, 0.0805002)
bones/56/scale = Vector3(0.999312, 1.00005, 0.999635)
bones/57/rotation = Quaternion(-0.000324792, 0.89198, -0.452075, -0.000546545)
bones/57/scale = Vector3(1.00038, 1.00011, 1.00017)
bones/58/rotation = Quaternion(-0.0900655, 0.509409, -0.855722, 0.0114569)
bones/58/scale = Vector3(1.00064, 1.00009, 1.00008)
bones/59/rotation = Quaternion(2.72901e-06, 1, 3.04878e-05, -3.06618e-06)
bones/59/scale = Vector3(1, 1, 1)
bones/60/rotation = Quaternion(9.31323e-09, 4.65661e-09, -1.84773e-08, 1)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(0.248264, -0.286425, -0.912431, -0.154257)
bones/61/scale = Vector3(0.999175, 1.00012, 0.999535)
bones/62/rotation = Quaternion(0.000347058, 0.875017, -0.484091, 0.00058578)
bones/62/scale = Vector3(1.00053, 1.00018, 1.00017)
bones/63/rotation = Quaternion(0.0801843, 0.522784, -0.848603, -0.0118288)
bones/63/scale = Vector3(1.00071, 1.00001, 1.00004)
bones/64/rotation = Quaternion(2.87652e-06, -1, -3.04878e-05, -3.06618e-06)
bones/64/scale = Vector3(1, 1, 1)
bones/65/rotation = Quaternion(-1.95578e-08, -4.65661e-10, -4.15785e-08, -1)
bones/65/scale = Vector3(1, 1, 1)
bones/66/rotation = Quaternion(3.58326e-07, -5.74393e-07, -2.11177e-07, 1)

[node name="HeadAttachment" type="BoneAttachment3D" parent="skeleton/Armature/GeneralSkeleton" index="10"]
transform = Transform3D(1, 2.19792e-07, 8.19564e-07, -2.58442e-07, 0.998547, 0.0538873, -7.45058e-07, -0.0538873, 0.998547, -0.00758699, 1.52251, 0.219154)
bone_name = "Head"
bone_idx = 6

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="skeleton/Armature/GeneralSkeleton/HeadAttachment"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
remote_path = NodePath("../../../../../Sight")

[node name="ChestAttachment" type="BoneAttachment3D" parent="skeleton/Armature/GeneralSkeleton" index="11"]
transform = Transform3D(0.982763, -0.0337543, 0.181764, 0.0513281, 0.994355, -0.0928655, -0.177604, 0.100594, 0.978947, -0.00429909, 1.06282, 0.0828915)
bone_name = "Chest"
bone_idx = 4

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="skeleton/Armature/GeneralSkeleton/ChestAttachment"]
remote_path = NodePath("../../../../../HitArea")

[node name="Sight" type="RayCast3D" parent="."]
transform = Transform3D(1, -2.15081e-07, 9.94282e-07, 2.63153e-07, 0.998547, -0.0538873, -9.19777e-07, 0.0538873, 0.998547, 0.00758697, 1.52251, -0.219154)
target_position = Vector3(0, 0, -3)
collision_mask = 524291

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="VoicePlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)
stream = ExtResource("3_top2m")
bus = &"Environment"

[node name="FootstepPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 0)
stream = ExtResource("4_cqs3q")
pitch_scale = 2.5
bus = &"Environment"

[node name="HitPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.2, -0.1)
stream = ExtResource("5_bsxur")

[node name="HitArea" type="Area3D" parent="."]
transform = Transform3D(-0.982763, 0.0337542, -0.181765, 0.0513281, 0.994355, -0.0928655, 0.177604, -0.100594, -0.978947, 0.00429909, 1.06282, -0.0828915)
collision_layer = 0
collision_mask = 65536

[node name="CollisionShape3D" type="CollisionShape3D" parent="HitArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)
shape = SubResource("BoxShape3D_eocio")

[connection signal="animation_finished" from="skeleton/AnimationPlayer" to="." method="_on_animation_finished"]
[connection signal="body_entered" from="HitArea" to="." method="_on_hit_area_body_entered"]

[editable path="skeleton"]
